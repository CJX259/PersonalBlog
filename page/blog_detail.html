<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人博客</title>
    <link rel="stylesheet" href="./css/base.css">
    <link rel="icon" href="./img/icon.png">
    <link rel="stylesheet" href="./css/blog_detail.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
</head>

<body>
    <div class="wrapper">
        <header class="header">
            <div class="header_content">
                <a href="./index.html" class="title">我的个人博客 | 技术博客</a>
                <ul class="menu">
                    <li><a href="./index.html">首页</a></li>
                    <li><a href="./siteMap.html">地图</a></li>
                    <li><a href="./about.html">关于</a></li>
                    <li><a href="./guestbook.html">留言</a></li>
                </ul>
                <div class="search-bar">
                    <input type="text" v-model="search" placeholder="请输入关键字查找" />
                    <button @click="submitSearch()">搜索</button>
                </div>
            </div>
        </header>
        <div class="content">
            <div class="content-left">
                <div id="blogDetail">
                    <h1>{{content.title}}</h1>
                    <span>作者：陈建希 发布于：{{content.ctime}} 浏览({{content.views}}) 标签：{{content.tags}}</span>
                    <div id="blog_content" v-html="content.content"></div>
                </div>
                <div id="blogComment">
                    <span>留言总数: {{commentsCount}}</span>
                    <ul>
                        <li v-for="(key, index) of commentList">
                            <!-- 点击回复时把此评论的name传入，设置addComment的parentName -->
                            <span class="user_name"> {{key.user_name}}:<span v-if="key.parent == 1"
                                    class="user_name">@{{key.parent_name}}</span> 发表于 {{key.ctime}}<a href="#addComment"
                                    @click="huifu(key.user_name)">[回复]</a></span>
                            <p>{{key.comments}}</p>
                        </li>
                    </ul>
                </div>
                <div class="addComment" id="addComment">
                    <!-- <input type="hidden" v-model="commentId"> -->
                    <input type="text" placeholder="昵称" v-model="name" />
                    <input type="text" placeholder="邮箱" v-model="email" />
                    <textarea placeholder="无意义的内容我可能不会回复你" v-model="comment"></textarea>
                    <input type="text" placeholder="请在这里输入验证码" v-model="inputRandomCode" />
                    <span v-html="randomSvg" v-on:click="changeCode"></span>
                    <button @click="sendComment">提交留言</button>
                </div>
            </div>

            <div class="content-right">
                <div class="right-module tags-cloud" id="tags_cloud">
                    <span>随机标签云</span>
                    <div>
                        <a :href="tag.link" v-for="tag in tags"
                            :style="{color : randomColor(), fontSize : randomSize() }">{{tag.tag}}</a>
                    </div>
                </div>
                <div class="right-module hot-blogs">
                    <span>最近热门</span>
                    <ul>
                        <li v-for="blog in blogTitles"><a :href="blog.link">{{blog.title}} | 浏览量：{{blog.views}}</a> </li>
                    </ul>
                </div>
                <div class="right-module new-comments">
                    <p>最新评论</p>
                    <div v-for="comment in comments">
                        <span class="comment-user">{{comment.user}}</span>
                        <span class="comment-date">{{comment.date}}</span>
                        <span class="comment-content">{{comment.content}}</span>
                    </div>
                </div>
            </div>
        </div>
        <footer class="footer">
            <ul>
                <li>C/C++</li>
                <li>JAVA</li>
                <li>PYTHON</li>
                <li>JAVASCRIPT</li>
                <li>Linux</li>
                <li>数据库</li>
                <li>算法</li>
            </ul>
            <span>Copyright © 2010-2020 陈建希个人博客 All rights reserved</span>
        </footer>
    </div>
</body>
<script src="./js/axios.js"></script>
<script src="./js/blog_detail.js"></script>
<script src="./js/base.js"></script>

</html>